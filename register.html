<!DOCTYPE html>
<html>
<head>
	<title>Register</title>
	<link rel="stylesheet" type="text/css" href="main.css" media="screen">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<meta charset="utf-8">
</head>

<body>
	<h1>GPASS</h1>
	<h2>REGISTER</h2>
	<form id="form">
    	<input type="text" name="name" required id="name" placeholder="Sofia"> <br><br>
    	<input type="email" name="email" required id="email" placeholder="example@mail.com"><br><br>
    	<input type="password" name="password" required id="password" placeholder="12345678"> <br><br>
    	<input type="submit" onclick="saveData()" class="button">
	</form>

</body>

<script type="text/javascript">
	$("#form").submit(function(e){
	e.preventDefault();
	});

	function myFunction(){
		var name = document.createElement("name");
	}

	function saveData() {
		var name = document.getElementById("name").value;
		var email = document.getElementById("email").value;
		var password = document.getElementById("password").value;
		
		$.ajax({
			url:"http://localhost:8888/GPASS/server/public/api/register",
			type: "POST",

			data:{
				'user': name,
				'email': email,
				'password': password
			},

			success: function(){
				console.log("User registered :)");
				window.location = 'login.html';
			},

			error: function() {
				console.log("Error :(");
			}
		});
	}

</script>
</html>
